6章 デプロイ #読書メモ #マイクロサービスアーキテクチャ
===

6.1 CI(継続的インテグレーション)とは
---
- CI
  - コードの品質のある程度高速なフィードバック
  - バイナリ成果物作成の自動化
  - ...

6.1.1 実際にCIを行っているか
---
「本物のCIとは」みたいな話。

1. 日に1度はメインラインにチェックインしているか
  - コードの統合を容易にする
2. リグレッションテストのテストスイートがあるか
3. 壊れているビルドに更にチェックインしないようにしているか

6.2 CIのマイクロサービスへのマッピング
---
CIビルドと個々のマイクロサービスをどのようにマッピングするか。
1. 全コードを格納する1つのリポジトリと1つのビルド
2. リポジトリは1つだがCIが変更のあった部分を監視、その部分のビルドを実行
3. マイクロサービスごとに独自のリポジトリとビルド

6.3 ビルドパイプラインとCD(継続的デリバリ)
---
#### ビルドパイプライン
リリースまでに必要なプロセスを段階的に実行できるようにすることで、フィードバックを高速にする。
e.g. 「コンパイル・高速テスト」->「低速テスト」->「受け入れテスト」->「性能テスト」->「本番環境」

#### CD
CDは各チェックインをリリース候補として扱う。そのためリリースに必要なあらゆるプロセスを実施しておく必要があるが、それを全て実行するには時間がかかるため、高速なフィードバックが得られなくなる。->対策としてビルドパイプライン

6.3.1 避けられない例外
---
新しいプロジェクトの場合、サービス境界が大きく変動する可能性があるため全てのサービスを1つのビルドに入れることは理にかなっている。ドメインの理解が安定(数週間〜数ヶ月が目安)したらマイクロサービスごとのビルドに移行する。

(6.2.1 のほうが適切な気がする…)

6.4 プラットフォーム固有の成果物
---
- TBD

6.5
---
?


感想
---
モノリシックシステムであっても有益なプラクティスが多いと思った。
